<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar" [class.sidebar-collapsed]="sidebarCollapsed">
    <div class="sidebar-header">
      <div class="logo-container" *ngIf="!sidebarCollapsed">
        <svg class="logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="45" fill="#3b82f6" opacity="0.1"/>
          <path d="M50 20 L40 35 L20 35 L25 45 L15 45 L20 50 L15 55 L25 55 L20 65 L40 65 L50 80 L60 65 L80 65 L75 55 L85 55 L80 50 L85 45 L75 45 L80 35 L60 35 Z" fill="#3b82f6"/>
        </svg>
        <span class="logo-text">Alumno</span>
      </div>
      <button class="toggle-sidebar" (click)="toggleSidebar()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <line x1="3" y1="12" x2="21" y2="12"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>
    </div>

    <nav class="sidebar-nav">
      <a routerLink="/alumno/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="3" width="7" height="7"/>
          <rect x="14" y="3" width="7" height="7"/>
          <rect x="14" y="14" width="7" height="7"/>
          <rect x="3" y="14" width="7" height="7"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Dashboard</span>
      </a>

      <a routerLink="/alumno/mis-vuelos" routerLinkActive="active" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Mis Vuelos</span>
      </a>

      <a routerLink="/alumno/historial" routerLinkActive="active" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14 2 14 8 20 8"/>
          <line x1="16" y1="13" x2="8" y2="13"/>
          <line x1="16" y1="17" x2="8" y2="17"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Historial</span>
      </a>

      <a routerLink="/alumno/mi-progreso" routerLinkActive="active" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <line x1="18" y1="20" x2="18" y2="10"/>
          <line x1="12" y1="20" x2="12" y2="4"/>
          <line x1="6" y1="20" x2="6" y2="14"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Mi Progreso</span>
      </a>
    </nav>
  </aside>

  <!-- Contenido principal -->
  <main class="main-content" [class.content-expanded]="sidebarCollapsed">
    <!-- Header -->
    <header class="top-header">
      <div class="header-left">
        <h1 class="page-title">{{ getPageTitle() }}</h1>
        <p class="page-subtitle">{{ getPageSubtitle() }}</p>
      </div>
      <div class="header-right">
        <!-- Notificaciones -->
        <div class="notifications-button" [class.has-notifications]="notificacionesCount > 0">
          <button class="btn-icon-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
            <span class="notification-badge" *ngIf="notificacionesCount > 0">
              {{ notificacionesCount }}
            </span>
          </button>
        </div>

        <div class="user-menu">
          <div class="user-avatar alumno-avatar">
            <span>{{ getUserInitials() }}</span>
          </div>
          <div class="user-info">
            <span class="user-name">{{ currentUser?.nombre_completo }}</span>
            <span class="user-role">{{ currentUser?.rol }}</span>
          </div>
          <button class="logout-button" (click)="logout()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
              <polyline points="16 17 21 12 16 7"/>
              <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <!-- Router Outlet -->
    <div class="content-wrapper">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>