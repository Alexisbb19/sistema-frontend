<div class="dashboard-container">
  <!-- Sidebar -->
  <aside class="sidebar" [class.sidebar-collapsed]="sidebarCollapsed">
    <div class="sidebar-header">
      <div class="logo-container" *ngIf="!sidebarCollapsed">
        <svg class="logo" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="45" fill="#2563eb" opacity="0.1"/>
          <path d="M50 20 L40 35 L20 35 L25 45 L15 45 L20 50 L15 55 L25 55 L20 65 L40 65 L50 80 L60 65 L80 65 L75 55 L85 55 L80 50 L85 45 L75 45 L80 35 L60 35 Z" fill="#2563eb"/>
        </svg>
        <span class="logo-text">Aviación</span>
      </div>
      <button class="toggle-sidebar" (click)="toggleSidebar()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <line x1="3" y1="12" x2="21" y2="12"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>
    </div>

    <nav class="sidebar-nav">
      <a routerLink="/admin/dashboard" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="3" width="7" height="7"/>
          <rect x="14" y="3" width="7" height="7"/>
          <rect x="14" y="14" width="7" height="7"/>
          <rect x="3" y="14" width="7" height="7"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Dashboard</span>
      </a>
      <a routerLink="/admin/usuarios" routerLinkActive="active" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Usuarios</span>
      </a>
      <a routerLink="/admin/avionetas" routerLinkActive="active" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M2 22L12 2l10 20H2z" transform="rotate(90 12 12)"/>
          <path d="M12 8v8M8 12h8"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Avionetas</span>
      </a>
      <a routerLink="/admin/vuelos" routerLinkActive="active" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
          <circle cx="12" cy="10" r="3"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Vuelos</span>
      </a>
      <a routerLink="/admin/reportes" routerLinkActive="active" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Reportes</span>
      </a>
      <a href="#" class="nav-item">
        <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="12" cy="12" r="3"/>
          <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"/>
        </svg>
        <span *ngIf="!sidebarCollapsed">Configuración</span>
      </a>
    </nav>
  </aside>

  <!-- Contenido principal -->
  <main class="main-content" [class.content-expanded]="sidebarCollapsed">
    <!-- Header -->
    <header class="top-header">
      <div class="header-left">
        <h1 class="page-title">{{ getPageTitle() }}</h1>
        <p class="page-subtitle">{{ getPageSubtitle() }}</p>
      </div>
      <div class="header-right">
        <!-- Notificaciones -->
        <div class="notifications-button" [class.has-notifications]="notificacionesCount > 0">
          <button class="btn-icon-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
            <span class="notification-badge" *ngIf="notificacionesCount > 0">
              {{ notificacionesCount }}
            </span>
          </button>
        </div>

        <div class="user-menu">
          <div class="user-avatar">
            <span>{{ getUserInitials() }}</span>
          </div>
          <div class="user-info">
            <span class="user-name">{{ currentUser?.nombre_completo }}</span>
            <span class="user-role">{{ currentUser?.rol }}</span>
          </div>
          <button class="logout-button" (click)="logout()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
              <polyline points="16 17 21 12 16 7"/>
              <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <!-- Router Outlet para el contenido dinámico -->
    <div class="content-wrapper">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>